<div class="details">
    <img class="details-img" [src]="film.imgUrl">
    <div class="details-text">
        <h1>{{film.titolo}}</h1>
        <p>Descrizione:</p>
        <p>{{film.descrizione}}</p>

        <p>Data di pubblicazione:</p>
        <p>{{film.dataDiPubblicazione}}</p>

        <p>Durata: {{film.durata}}</p>

        <p>Casa di produzione: {{film.casaDiProduzione.nome}}</p>
        <p>Casa di pubblicazione: {{film.casaDiPubblicazione.nome}}</p>
        <div class="voto-Display">
            <div>Voto: {{film.voto}}</div>
            <div class="progress-bar-container">

                <div class="progress-bar-fill" [style.width.%]="film.voto" [style.backgroundColor]="getBarColor()">
                </div>
            </div>
        </div>

    </div>

</div>
<!-- @if(){  TODO AGGIUNGE IL PULSANTE AGGIUNGI RECENSIONE SE SEI LOGGATO
    <div>

    </div>
} -->

@if(isAlreadylogged && !filmVisto){
<div>
    <button (click)="registerFilmVisto()">Segna come visto</button>
</div>
}

@if(isAlreadylogged && filmVisto){
<div>
    <button (click)="deleteFilmVisto()">Rimuovi dai film visti</button>
</div>
}

@if(isAlreadylogged && filmVisto && !filmVisto.recensione){
    <app-add-recensione [operaId] = 'film.id' [type] = 'type'></app-add-recensione>
}

@if(isAlreadylogged && filmVisto && filmVisto.recensione){
    <h2>La tua recensione</h2>
    <app-recensione-card [recensione] = 'filmVisto.recensione'></app-recensione-card>
}

@if(recensioni.length){
<div>
    <h2>Recensioni dei nostri utenti</h2>
    <app-recensioni-list [recensioni]="recensioni"></app-recensioni-list>
</div>
}
